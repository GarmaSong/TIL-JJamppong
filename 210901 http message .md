- http의 통신의 핵심은 클라이언드가 서버로 정보를 **Request(요청)**
- 서버가 요청받은 메세지를 통해 **Response(응답)**

### 📌 http 메시지

- http에서 교환하는 정보 => http 메시지라고 함
- http 메시지는 리퀘스트 메시지와 리스폰스 메시지 둘로 나뉜다
- http 메시지는 복수 행 데이터로 구성된 문자열로 메시지 헤더와 메시지 바디로 구성되어 있다

### 📌 리퀘스트 메시지와 리스폰스 메시지의 구조

#### ✔ 리퀘스트와 리스폰스 메시지에 들어가는 헤더 메시지의 구조

- **리퀘스트 라인**: 리퀘스트에 사용하는 메소드와 리퀘스트 URI와 사용하는 HTTP 버전이 포함됨
- **상태 라인**: 리스폰스 결과를 나타내는 상태 코드와 설명, 사용하는 HTTP 버전이 포함됨
- **헤더 필드**: 리퀘스트와 리스폰스의 여러 조건과 속성 등을 나타내는 각종 헤더 필드가 포함됨, 일반 헤더필드, 리퀘스트 헤더 필드, 리스폰스 헤더 필드, 엔티티 헤더필드 4종류가 있음

### 📌 인코딩으로 전송효율 높이기

- http로 데이터를 전송할 때 인코딩(변환)을 해서 보낸다면 전송 효율을 높일 수 있음(다량의 액세스를 효율적으로 처리할 수 있기 때문)
- 벗뜨, 다시 컴퓨터에서 인코딩 처리를 해야하기 때문에 CPU 소비가 심해짐

#### ✔ 메시지 바디와 엔티티 바디의 차이

- **메시지**: http 통신의 기본 단위
- **엔티티**: 리퀘스트랑 리스폰스의 페이로드(부가물)로 전송되는 정보로 엔티티 헤더 필드와 엔티티 바디로 구성됨

=> http 메시지 바디의 역할은 리퀘스트랑 리스폰스에 관한 엔티티 바디를 운반하는 일
기본적으로 메시지 바디와 엔티티 바디는 같지만, 전송 코딩이 적용된 경우 엔티티 바디의 내용이 변화하기 때문에 메시지 바디와 달라짐

#### ✔ 압축해서 보내는 콘텐츠 코딩

- 우리가 메일에 첨부파일을 보낼 때 용량 줄이려고 zip으로 압축하는 것과 같이 http에도 그런식으로 압축하는걸 **콘텐츠 코딩**이라고 함.
- **콘텐츠 코딩**은 엔티티에 적용하는 인코딩을 가리키는데 엔티티 정보를 유지한 채로 압축함. 콘텐츠 코딩 된 엔티티는 수신한 클라이언트 측에서 디코딩 함

#### ✔ 분해해서 보내는 청크 전송 코딩

- http 통신에서는 리퀘스트 보낼 때 엔티티 바디가 전송이 완전하게 보내지기 전까지는 브라우저에 표시되지 않음 so, 사이즈가 큰 데이터를 **조금씩 분할해서 표현함**
- 이렇게 엔티티 바디를 분할하는 기능을 **청크 전송 코딩**이라고 부름
- 청크 전송 코딩은 엔티티 바디를 청크(덩어리)로 분해 함
- 청크 전송 코딩된 엔티티 바디는 수신한 클라이언트 측에서 원래 엔티티 바디로 디코딩 함

### 📌 여러 데이터를 보내는 멀티 파트

- 메일의 경우 여러개의 첨부파일 붙여서 함께 보낼 수 있음
- 이는 MIME(Multipurpose Internet Mail Extensions: 다목적 인터넷 메일 확장 사양)으로 불리는 메일로 텍스트나 영상, 이미지와 같은 여러 다른 데이터를 다루기 위한 기능을 사용함

  - http도 멀티파트에 대응하고 있어 하나의 메시지를 바디 내부의 엔티티를 여러 개 포함시켜 보낼 수 있음, 주로 이미지나 텍스트 파일 등을 업로드할 때 사용되고 있음
  - MIME을 구현하기 위한 두가지 방법이 있음. **아스키 문자열 인코딩 방법**과 **데이터 종류를 나타내는 방법**
  - MIME의 확장 사양에 있는 멀티파트라고 하는 여러 다른 종류의 데이터를 수용하는 방법을 사용
  - http도 멀티파트에 대응하고 있어 하나의 메시지 바디 내부에 엔티티를 여러 개 포함시켜 보낼 수 있음. 주로 이미지나 텍스트 파일 등을 업로드 할 때 사용

#### ✔ multipart/form-data

#### ✔ multipart/byteranges

### 📌 일부분만 받는 레인지 리퀘스트

- 대용량의 이미지와 데이터를 다운로드 하기 힘든 시절에는 **리줌(resume)**이라는 기능을 통해서 이전 다운로드 한 곳에서 다시 다운로드를 할 수 있게 함
- 이 기능의 실현을 위해서는 엔티티의 범위를 지정해서 다운로드 할 수 있어야 함. 이와 같이 범위를 지정한 리퀘스트를 **레인지 리퀘스트** 라고 함

### 📌 콘텐츠 네고시에이션
